generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id String @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  fullname String 
  username String 
  password String

  cart Carts[]


  @@unique([username])
  @@id([id])
  @@map("users")
}

model Carts {
  id String @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  
  user_id String @db.Uuid
  user Users @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  products Products[]

  @@id([id])
  @@map("carts")
}

model Products {
  id String @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name String
  price Float

  cart_id String @db.Uuid
  cart Carts @relation(fields: [cart_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@id([id])
  @@map("products")
}
